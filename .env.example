# ==============================================
# I Need Numbers - Production Environment Config
# ==============================================

# CRITICAL: All values marked as REQUIRED must be set for production
# The application will fail to start if required variables are missing

# Database Configuration (REQUIRED)
MONGO_URL="mongodb://localhost:27017"  # Production: Use MongoDB Atlas or dedicated instance
DB_NAME="ineednumbers_prod"            # Production database name

# Security & Environment (REQUIRED)
NODE_ENV="production"                   # Set to "production" for prod deployment
CORS_ORIGINS="https://yourdomain.com"   # Production domain(s), comma-separated
JWT_SECRET_KEY=""                      # REQUIRED: Generate secure 32+ char secret
DEBUG="false"                          # Always false in production

# Application URLs (REQUIRED)
FRONTEND_URL="https://yourdomain.com"   # Frontend URL for CORS and redirects
BACKEND_URL="https://api.yourdomain.com" # Backend API URL

# Redis Configuration (REQUIRED for production)
REDIS_URL="redis-cli --tls -u redis://default:AXhwAAIncDI5ZDQzYjRkMDZhNDk0NWEwOWMxM2Q5MmM3Y2VhMjk4ZHAyMzA4MzI@noted-collie-30832.upstash.io:6379"     # Redis for caching and rate limiting
REDIS_PASSWORD=""                      # Redis password if auth enabled
REDIS_DB=0                             # Redis database number

# Stripe Payment Configuration (REQUIRED)
STRIPE_API_KEY="pk_live_51S8kbA00C12Pmyz1bbdjxOfSf5Rk3Cw1lSTywKzb1mLTwf7mVGjQ63bMkr3HWTeIlbMw5433fjVjUsJgx8U5unzC00p8m1Jn4l"                      # REQUIRED: Live Stripe secret key (sk_live_...)
STRIPE_PUBLIC_KEY=""                   # REQUIRED: Live Stripe publishable key (pk_live_...)
STRIPE_SECRET_KEY="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"                   # REQUIRED: Same as STRIPE_API_KEY
STRIPE_WEBHOOK_SECRET=""               # REQUIRED: Webhook endpoint secret (whsec_...)
STRIPE_PRICE_STARTER_MONTHLY=""        # REQUIRED: Starter plan price ID
STRIPE_PRICE_PRO_MONTHLY=""            # REQUIRED: Pro plan price ID

# AI Coach Configuration (REQUIRED)
OPENAI_API_KEY=""                      # REQUIRED: OpenAI API key (sk-...)
OPENAI_MODEL="gpt-4o-mini"             # OpenAI model to use
AI_COACH_MAX_TOKENS=800                # Max tokens per AI response
AI_COACH_TEMPERATURE=0.2               # AI creativity (0.0-2.0)
AI_COACH_RATE_LIMIT_PER_MIN=10         # Rate limit per user per minute
AI_CACHE_TTL_SECONDS=300               # Cache TTL for AI responses
AI_COACH_ENABLED=true                  # Enable/disable AI Coach globally

# S3 Asset Storage (REQUIRED for branding features)
STORAGE_DRIVER="s3"                    # Storage driver (currently only s3)
S3_REGION="us-east-1"                  # AWS S3 region
S3_BUCKET=""                           # REQUIRED: S3 bucket name
S3_ACCESS_KEY_ID="AKIA24GVM5YZ67ERMQ4U"                    # REQUIRED: AWS access key
S3_SECRET_ACCESS_KEY="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"                # REQUIRED: AWS secret key
S3_ENDPOINT_URL=""                     # Optional: Custom S3 endpoint (for S3-compatible services)

# File Upload Limits
ASSET_MAX_MB=10                        # Max file size in MB
ALLOWED_MIME="image/png,image/jpeg,image/svg+xml,image/webp"

# Security Configuration
MAX_JSON_BODY_KB=512                   # Max JSON request body size in KB
CSRF_SECRET_KEY=""                     # REQUIRED: CSRF protection secret (32+ chars)
COOKIE_SECURE=true                     # Use secure cookies in production
COOKIE_SAMESITE="lax"                  # SameSite cookie policy

# Rate Limiting (Redis-based)
RATE_LIMIT_ENABLED=true                # Enable Redis-based rate limiting
RATE_LIMIT_REQUESTS=100                # Requests per window
RATE_LIMIT_WINDOW=3600                 # Time window in seconds (1 hour)

# Logging Configuration
LOG_LEVEL="INFO"                       # Log level: DEBUG, INFO, WARNING, ERROR
LOG_FILE="/var/log/ineednumbers/app.log" # Log file path
LOG_MAX_BYTES=10485760                 # Max log file size (10MB)
LOG_BACKUP_COUNT=5                     # Number of backup log files

# Monitoring & Health
SENTRY_DSN=""                          # Optional: Sentry error tracking
HEALTH_CHECK_ENABLED=true              # Enable health check endpoint

# Development/Testing Only (DO NOT SET IN PRODUCTION)
# EMERGENT_LLM_KEY=""                  # Legacy fallback key
# SKIP_SECURITY_CHECKS="false"        # Never set to true in production